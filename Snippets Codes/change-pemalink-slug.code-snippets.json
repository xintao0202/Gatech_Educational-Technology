{"generator":"Code Snippets v2.10.1.1","date_created":"2018-04-29 05:42","snippets":[{"name":"change Pemalink Slug","scope":"global","code":"\/\/Appending the Job ID and author name to the permalink slug\r\nfunction custom_job_post_type_link( $post_id, $post ) {\r\n\r\n    \t\/\/ don't add the id if it's already part of the slug\r\n    \t$permalink = $post->post_name;\r\n    \tif ( strpos( $permalink, strval( $post_id ) ) ) {\r\n    \t\treturn;\r\n    \t}\r\n    \t\r\n    \t\/\/ unhook this function to prevent infinite looping\r\n    \tremove_action( 'save_post_job_listing', 'custom_job_post_type_link', 10, 2 );\r\n\r\n \t\/\/ add the id to the slug\r\n    \t$permalink .= '-' . $post_id;\r\n  \t\t$permalink .= '-' . $email;\r\n \r\n    \t\/\/ update the post slug\r\n    \twp_update_post( array(\r\n        \t'ID' => $post_id,\r\n        \t'post_name' => $permalink\r\n    \t));\r\n\r\n    \t\/\/ re-hook this function\r\n    \tadd_action( 'save_post_job_listing', 'custom_job_post_type_link', 10, 2 );\r\n}\r\nadd_action( 'save_post_job_listing', 'custom_job_post_type_link', 10, 2 );\r\n\r\n\r\n \/\/ Remove company name\r\nadd_filter( 'submit_job_form_prefix_post_name_with_company', '__return_false' );\r\n\r\n\/\/ Remove location\r\nadd_filter( 'submit_job_form_prefix_post_name_with_location', '__return_false' );\r\n\r\n\/\/ Remove job type\r\nadd_filter( 'submit_job_form_prefix_post_name_with_job_type', '__return_false' );\r\n    "}]}